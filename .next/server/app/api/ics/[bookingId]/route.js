"use strict";(()=>{var e={};e.id=654,e.ids=[654],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6668:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>N,originalPathname:()=>I,patchFetch:()=>R,requestAsyncStorage:()=>D,routeModule:()=>p,serverHooks:()=>d,staticGenerationAsyncStorage:()=>A,staticGenerationBailout:()=>m});var n={};r.r(n),r.d(n,{GET:()=>l});var i=r(5419),a=r(9108),o=r(9678),s=r(8070),T=r(8727);let c=process.env.TIMEZONE||"America/Detroit";function E(e,t){if(!t)return e.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,"");{let r=(0,T.Z)(e,"yyyyMMdd'T'HHmmss",{timeZone:t});return`TZID=${t}:${r}`}}function u(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/,/g,"\\,").replace(/;/g,"\\;")}async function l(e,{params:t}){try{let{bookingId:e}=t;if(!e)return s.Z.json({error:"Booking ID is required"},{status:400});let r={id:e,title:"Splashtastic Foam Party",description:"Join us for an amazing foam party experience!",location:{street:"123 Main St",city:"Detroit",state:"MI",zip:"48201"},startDateTime:new Date("2024-06-15T14:00:00Z"),endDateTime:new Date("2024-06-15T16:00:00Z"),organizerEmail:"info@splashtastic.com",attendeeEmail:"customer@example.com",url:"https://splashtastic.com"},n=function(e){let{id:t,title:r,startDateTime:n,endDateTime:i,location:a,description:o="",organizerEmail:s,attendeeEmail:T,url:l}=e,p=new Date,D=`${t}@splashtastic.com`,A=E(p),d=E(p),N=E(p),m=E(n,c),I=E(i,c),R=`${a.street}, ${a.city}, ${a.state} ${a.zip}`,g=u(r),S=u(o),O=u(R);return function(e){let t=e.split("\r\n"),r=[];for(let e of t)if(e.length<=75)r.push(e);else{let t=e,n=!0;for(;t.length>0;)n?(r.push(t.substring(0,75)),t=t.substring(75),n=!1):(r.push(" "+t.substring(0,74)),t=t.substring(74))}return r.join("\r\n")}(["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Splashtastic//Booking System//EN","CALSCALE:GREGORIAN","BEGIN:VTIMEZONE\r\nTZID:America/Detroit\r\nBEGIN:STANDARD\r\nDTSTART:20071104T020000\r\nRRULE:FREQ=YEARLY;BYMONTH=11;BYDAY=1SU\r\nTZNAME:EST\r\nTZOFFSETFROM:-0400\r\nTZOFFSETTO:-0500\r\nEND:STANDARD\r\nBEGIN:DAYLIGHT\r\nDTSTART:20070311T020000\r\nRRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=2SU\r\nTZNAME:EDT\r\nTZOFFSETFROM:-0500\r\nTZOFFSETTO:-0400\r\nEND:DAYLIGHT\r\nEND:VTIMEZONE","BEGIN:VEVENT",`UID:${D}`,`DTSTAMP:${A}`,`CREATED:${d}`,`LAST-MODIFIED:${N}`,`DTSTART:${m}`,`DTEND:${I}`,`SUMMARY:${g}`,...o?[`DESCRIPTION:${S}`]:[],`LOCATION:${O}`,`ORGANIZER:mailto:${s}`,`ATTENDEE:mailto:${T}`,`URL:${l}`,"STATUS:CONFIRMED","TRANSP:OPAQUE","END:VEVENT","END:VCALENDAR"].join("\r\n"))}(r);return new s.Z(n,{status:200,headers:{"Content-Type":"text/calendar; charset=utf-8","Content-Disposition":`attachment; filename="foam-party-${e}.ics"`}})}catch(e){return console.error("Error generating ICS file:",e),s.Z.json({error:"Failed to generate calendar file"},{status:500})}}let p=new i.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/ics/[bookingId]/route",pathname:"/api/ics/[bookingId]",filename:"route",bundlePath:"app/api/ics/[bookingId]/route"},resolvedPagePath:"C:\\Users\\Owner\\Desktop\\splash\\src\\app\\api\\ics\\[bookingId]\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:D,staticGenerationAsyncStorage:A,serverHooks:d,headerHooks:N,staticGenerationBailout:m}=p,I="/api/ics/[bookingId]/route";function R(){return(0,o.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:A})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[638,206,727],()=>r(6668));module.exports=n})();