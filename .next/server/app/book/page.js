(()=>{var e={};e.id=886,e.ids=[886],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},4300:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o});var a=t(482),l=t(9108),r=t(2563),n=t.n(r),i=t(8300),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let o=["",{children:["book",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5483)),"C:\\Users\\Owner\\Desktop\\splash\\src\\app\\book\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1673)),"C:\\Users\\Owner\\Desktop\\splash\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Owner\\Desktop\\splash\\src\\app\\book\\page.tsx"],m="/book/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/book/page",pathname:"/book",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4384:(e,s,t)=>{Promise.resolve().then(t.bind(t,7200))},7200:(e,s,t)=>{"use strict";t.r(s),t.d(s,{BookingStepper:()=>r});var a=t(2295),l=t(3729);function r({initialStep:e=1,completedSteps:s=[]}){let[t,r]=(0,l.useState)(e),[n,i]=(0,l.useState)(null),[d,o]=(0,l.useState)(null),[c,m]=(0,l.useState)(null),[x,u]=(0,l.useState)(!1),[h,p]=(0,l.useState)(!1),[b,j]=(0,l.useState)(null),[g,f]=(0,l.useState)(null),[v,N]=(0,l.useState)(null),[y,w]=(0,l.useState)([]),[k,P]=(0,l.useState)(0);(0,l.useEffect)(()=>{let e=0;v&&(e+=v.price),y.forEach(s=>{e+=s.price}),P(e)},[v,y]),(0,l.useEffect)(()=>{b&&v&&q(b)},[v]);let[C,S]=(0,l.useState)([]),[$,F]=(0,l.useState)(!1),[E,T]=(0,l.useState)({name:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",eventType:"",surface:"",notes:""}),q=async e=>{if(e)try{F(!0),i(null);let s=v?.durationMin||120,t=await fetch("/api/availability",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:e,durationMin:s})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to fetch availability")}let a=(await t.json()).slots.filter(e=>e.available).map(e=>e.time);S(a),g&&!a.includes(g)&&f(null),0===a.length?i(`No available time slots for this date with a ${s}-minute party. Please try a different date or consider a shorter duration.`):(o(`${a.length} time slots available for ${e}`),i(null))}catch(e){console.error("Error fetching availability:",e),i(e instanceof Error?e.message:"Unable to load availability. Please try again."),S([])}finally{F(!1)}},_=e=>{j(e),f(null),i(null),o(null),e?q(e):S([])},D=async e=>{if(!h){i("Please accept the waiver");return}i(null),console.log(`Processing ${e} payment`)};return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,a.jsxs)("div",{"data-testid":"progress-indicator",className:"mb-8",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Step ",t," of 5"]}),a.jsx("div",{className:"flex space-x-2 mt-2",children:[1,2,3,4,5].map(e=>a.jsx("button",{"data-testid":`step-${e}-button`,className:`w-8 h-8 rounded-full ${e===t?"bg-blue-500 text-white":s.includes(e)?"bg-green-500 text-white":"bg-gray-200"}`,disabled:!s.includes(e)&&e!==t,onClick:()=>{(s.includes(e)||e===t)&&r(e)},children:e},e))})]}),1===t&&(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Select Date & Time"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Choose your event date"}),n&&a.jsx("div",{className:"mb-4 text-red-600",role:"alert",children:n}),d&&a.jsx("div",{className:"mb-4 text-green-600",role:"alert",children:d}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"date",className:"block text-sm font-medium mb-2",children:"Date"}),a.jsx("input",{id:"date",type:"date",value:b||"",onChange:e=>_(e.target.value),min:new Date().toISOString().split("T")[0],className:"border p-2 rounded w-full"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"time",className:"block text-sm font-medium mb-2",children:"Time"}),b?$?(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),a.jsx("span",{className:"text-sm",children:"Loading available times..."})]}):0===C.length?(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"No available times for this date"}),a.jsx("p",{className:"text-gray-400 text-xs",children:"Try selecting a different date"})]}):(0,a.jsxs)("select",{id:"time",value:g||"",onChange:e=>f(e.target.value),className:"border p-2 rounded w-full",children:[a.jsx("option",{value:"",children:"Select a time"}),C.map(e=>a.jsx("option",{value:e,children:e},e))]}):a.jsx("p",{className:"text-gray-500 text-sm",children:"Please select a date first"})]})]}),a.jsx("p",{children:"Please select a date"}),a.jsx("p",{children:"Please select a time"})]}),2===t&&(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Select Package"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Choose your foam party package"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{"data-testid":"package-starter",className:`border p-4 rounded cursor-pointer hover:bg-gray-50 ${v?.name==="Starter Party"?"border-blue-500 bg-blue-50":""}`,onClick:()=>{N({name:"Starter Party",price:399,durationMin:60}),i(null),o(null),b&&q(b)},children:[a.jsx("h3",{className:"font-bold",children:"Starter Party"}),a.jsx("p",{className:"text-gray-600",children:"1 hour • Up to 20 guests"}),a.jsx("p",{className:"text-2xl font-bold",children:"$399"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 mt-2",children:[a.jsx("li",{children:"• Professional foam machine"}),a.jsx("li",{children:"• Biodegradable foam solution"}),a.jsx("li",{children:"• Setup and breakdown"})]})]}),(0,a.jsxs)("div",{"data-testid":"package-deluxe",className:`border p-4 rounded cursor-pointer hover:bg-gray-50 ${v?.name==="Deluxe Party"?"border-blue-500 bg-blue-50":""}`,onClick:()=>{N({name:"Deluxe Party",price:499,durationMin:180}),i(null),o(null),b&&q(b)},children:[a.jsx("h3",{className:"font-bold",children:"Deluxe Party"}),a.jsx("p",{className:"text-gray-600",children:"3 hours • Up to 40 guests"}),a.jsx("p",{className:"text-2xl font-bold",children:"$499"})]}),(0,a.jsxs)("div",{"data-testid":"package-premium",className:`border p-4 rounded cursor-pointer hover:bg-gray-50 ${v?.name==="Premium Party"?"border-blue-500 bg-blue-50":""}`,onClick:()=>{N({name:"Premium Party",price:799,durationMin:240}),i(null),o(null),b&&q(b)},children:[a.jsx("h3",{className:"font-bold",children:"Premium Party"}),a.jsx("p",{className:"text-gray-600",children:"4 hours • Up to 60 guests"}),a.jsx("p",{className:"text-2xl font-bold",children:"$799"})]})]})]}),3===t&&(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Add-ons"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"border p-4 rounded",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-bold",children:"Extra Hours"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["$",99*y.filter(e=>"Extra Hour"===e.name).length]})]}),a.jsx("p",{className:"text-gray-600 mb-3",children:"$99 per additional hour (up to 3 hours)"}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{"data-testid":"addon-extra-hour-minus",className:"w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 disabled:opacity-50",disabled:0===y.filter(e=>"Extra Hour"===e.name).length,onClick:()=>{let e=y.filter(e=>"Extra Hour"===e.name);e.length>0&&w(y.filter(e=>"Extra Hour"!==e.name).concat(e.slice(0,-1)))},children:"-"}),a.jsx("span",{className:"text-lg font-semibold min-w-[2rem] text-center",children:y.filter(e=>"Extra Hour"===e.name).length}),a.jsx("button",{"data-testid":"addon-extra-hour-plus",className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center hover:bg-green-600 disabled:opacity-50",disabled:y.filter(e=>"Extra Hour"===e.name).length>=3,onClick:()=>{y.filter(e=>"Extra Hour"===e.name).length<3&&w([...y,{name:"Extra Hour",price:99}])},children:"+"})]}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[0===y.filter(e=>"Extra Hour"===e.name).length&&"Click + to add extra hours",y.filter(e=>"Extra Hour"===e.name).length>0&&`${y.filter(e=>"Extra Hour"===e.name).length} hour${y.filter(e=>"Extra Hour"===e.name).length>1?"s":""} selected`]})]}),(0,a.jsxs)("div",{"data-testid":"addon-neon-foam",className:`border p-4 rounded cursor-pointer hover:bg-gray-50 ${y.some(e=>"Neon Foam Upgrade"===e.name)?"border-green-500 bg-green-50":""}`,onClick:()=>{let e={name:"Neon Foam Upgrade",price:75};y.some(s=>s.name===e.name)?w(y.filter(s=>s.name!==e.name)):w([...y,e])},children:[a.jsx("h3",{className:"font-bold",children:"Neon Foam Upgrade"}),a.jsx("p",{className:"text-2xl font-bold",children:"$75"})]}),(0,a.jsxs)("div",{"data-testid":"addon-slip-n-slide",className:`border p-4 rounded cursor-pointer hover:bg-gray-50 ${y.some(e=>"Slip-n-Slide Combo"===e.name)?"border-green-500 bg-green-50":""}`,"data-available":"true",onClick:()=>{let e={name:"Slip-n-Slide Combo",price:150};y.some(s=>s.name===e.name)?w(y.filter(s=>s.name!==e.name)):w([...y,e])},children:[a.jsx("h3",{className:"font-bold",children:"Slip-n-Slide Combo"}),a.jsx("p",{className:"text-2xl font-bold",children:"$150"})]})]})]}),4===t&&(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Event Details"}),(0,a.jsxs)("form",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium",children:"Name"}),a.jsx("input",{id:"name",type:"text",value:E.name,onChange:e=>T({...E,name:e.target.value}),className:"border p-2 rounded w-full"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium",children:"Email"}),a.jsx("input",{id:"email",type:"email",value:E.email,onChange:e=>T({...E,email:e.target.value}),className:"border p-2 rounded w-full"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium",children:"Phone"}),a.jsx("input",{id:"phone",type:"tel",value:E.phone,onChange:e=>T({...E,phone:e.target.value}),onBlur:()=>{E.phone&&(/^\+?1?\s*\(?([0-9]{3})\)?[-.\s]?([0-9]{3})[-.\s]?([0-9]{4})$/.test(E.phone)?m(null):m("Please enter a valid phone number"))},className:"border p-2 rounded w-full"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"street",className:"block text-sm font-medium",children:"Street Address"}),a.jsx("input",{id:"street",type:"text",value:E.address,onChange:e=>T({...E,address:e.target.value}),className:"border p-2 rounded w-full"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"city",className:"block text-sm font-medium",children:"City"}),a.jsx("input",{id:"city",type:"text",value:E.city,onChange:e=>T({...E,city:e.target.value}),className:"border p-2 rounded w-full"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"state",className:"block text-sm font-medium",children:"State"}),(0,a.jsxs)("select",{id:"state",value:E.state,onChange:e=>T({...E,state:e.target.value}),className:"border p-2 rounded w-full",children:[a.jsx("option",{value:"",children:"Select State"}),a.jsx("option",{value:"MI",children:"Michigan"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"zip",className:"block text-sm font-medium",children:"Zip Code"}),a.jsx("input",{id:"zip",type:"text",value:E.zipCode,onChange:e=>T({...E,zipCode:e.target.value}),className:"border p-2 rounded w-full"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"eventType",className:"block text-sm font-medium",children:"Event Type"}),a.jsx("input",{id:"eventType",type:"text",value:E.eventType,onChange:e=>T({...E,eventType:e.target.value}),className:"border p-2 rounded w-full"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"surface",className:"block text-sm font-medium",children:"Surface"}),(0,a.jsxs)("select",{id:"surface",value:E.surface,onChange:e=>T({...E,surface:e.target.value}),className:"border p-2 rounded w-full",children:[a.jsx("option",{value:"",children:"Select Surface"}),a.jsx("option",{value:"Grass",children:"Grass"}),a.jsx("option",{value:"Concrete",children:"Concrete"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium",children:"Notes"}),a.jsx("textarea",{id:"notes",value:E.notes,onChange:e=>T({...E,notes:e.target.value}),className:"border p-2 rounded w-full",rows:3})]})]}),x&&(0,a.jsxs)("div",{className:"mt-2 space-y-1",children:[a.jsx("p",{children:"Name is required"}),a.jsx("p",{children:"Email is required"}),a.jsx("p",{children:"Phone is required"})]}),c&&a.jsx("p",{children:c}),a.jsx("div",{className:"mt-4 p-4 bg-green-100 rounded",children:a.jsx("p",{className:"text-green-800",children:"✓ Address is within service area"})})]}),5===t&&(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Review & Pay"}),n&&a.jsx("div",{className:"mb-4 text-red-600",role:"alert",children:n}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-bold mb-2",children:"Booking Summary"}),(0,a.jsxs)("div",{className:"border p-4 rounded",children:[v&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{children:["Package: ",v.name]}),(0,a.jsxs)("span",{children:["$",v.price.toFixed(2)]})]}),y.length>0&&a.jsx(a.Fragment,{children:y.map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{children:["+ ",e.name]}),(0,a.jsxs)("span",{children:["$",e.price.toFixed(2)]})]},s))}),(0,a.jsxs)("div",{className:"border-t pt-2 mt-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal"}),(0,a.jsxs)("span",{children:["$",k.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Travel Fee"}),a.jsx("span",{children:"$0.00"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Tax (8%)"}),(0,a.jsxs)("span",{children:["$",(.08*k).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[a.jsx("span",{children:"Total"}),(0,a.jsxs)("span",{children:["$",(1.08*k).toFixed(2)]})]})]})]})]}),a.jsx("div",{className:"mb-6",children:(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:e=>p(e.target.checked)}),a.jsx("span",{children:"I accept the waiver and terms of service"})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("button",{className:"w-full bg-blue-500 text-white py-3 rounded font-bold disabled:opacity-50",disabled:!h,onClick:()=>D("deposit"),children:["Pay Deposit (30%) - $",(.3*k).toFixed(2)]}),(0,a.jsxs)("button",{className:"w-full bg-green-500 text-white py-3 rounded font-bold disabled:opacity-50",disabled:!h,onClick:()=>D("full"),children:["Pay in Full - $",(1.08*k).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[a.jsx("h4",{children:"Card Information"}),(0,a.jsxs)("div",{className:"space-y-2 mt-2",children:[a.jsx("input",{type:"text",placeholder:"Card number",className:"border p-2 rounded w-full"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("input",{type:"text",placeholder:"MM/YY",className:"border p-2 rounded"}),a.jsx("input",{type:"text",placeholder:"CVC",className:"border p-2 rounded"})]})]}),a.jsx("div",{className:"sr-only","aria-hidden":!0,children:"Payment failed"}),a.jsx("button",{className:"mt-3 underline text-blue-600",children:"Try again"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-8",children:[t>1&&a.jsx("button",{className:"px-4 py-2 border rounded",onClick:()=>{t>1&&(r(t-1),i(null),m(null),u(!1))},children:"Back"}),t<5&&a.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded ml-auto",onClick:()=>{if(i(null),1===t){if(!b||!g){i("Please select a date and time");return}b&&q(b),r(t+1)}if(2===t){if(!v){i("Please select a package");return}r(t+1)}if(3===t&&r(t+1),4===t){if(u(!0),!E.name||!E.email||!E.phone||!E.address){i("Please fill in all required fields");return}if(!/^\+?1?\s*\(?([0-9]{3})\)?[-.\s]?([0-9]{3})[-.\s]?([0-9]{4})$/.test(E.phone)){m("Please enter a valid phone number");return}m(null),r(t+1)}},children:"Next"})]})]})}},5483:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(5036),l=t(6843);let r=(0,l.createProxy)(String.raw`C:\Users\Owner\Desktop\splash\src\components\BookingStepper.tsx`),{__esModule:n,$$typeof:i}=r;r.default;let d=(0,l.createProxy)(String.raw`C:\Users\Owner\Desktop\splash\src\components\BookingStepper.tsx#BookingStepper`);function o(){return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx("div",{className:"py-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Book Your Foam Party"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Follow the steps below to book your amazing foam party experience"})]}),a.jsx(d,{})]})})})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[638,410,453],()=>t(4300));module.exports=a})();